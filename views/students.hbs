<h2>Students list</h2>

<div class="input-field">
    {{#if students.length}}
    <ul>
        {{#each students}}
        <li class="Students">
            <label>
                <span>{{Lastname}}</span>
                <span>{{Name}}</span>
                <span>{{Surname}}</span>


                <input class="btn btn-small delete" name="delete"  data-id="{{_id}}" type="button" value="Delete">
                <a class="btn btn-small update" type="button" href="/edit_students/{{_id}}">Update</a>
            </label>
        </li >
        {{/each}}
    </ul>
     <a class="btn btn-small update" type="button" href="/add_students/{{_id}}">Add</a>
    <script> 
        document.addEventListener('click', (e) => {
            const id = e.target?.dataset?.id || null
            if (id) {
                fetch(`/students/${id}`, {
                    method: 'DELETE',
                }).then(() => {
                    window.location.reload();
                })
            }
        })
    </script>
    {{else}}
    <p>No students!</p>
      <a class="btn btn-small update" type="button" href="/add_students/{{_id}}">Add</a>
    {{/if}}
</div>